<?php
namespace Database\Seeders; use Illuminate\Database\Seeder; use Illuminate\Support\Facades\DB; class S4DemoSeeder extends Seeder { public function run(){ $slots=[['code'=>'header','title'=>'Header Wide'],['code'=>'map_top','title'=>'Map Top'],['code'=>'feed_inline','title'=>'Feed Inline'],]; foreach($slots as $s){ DB::table('banner_slots')->updateOrInsert(['code'=>$s['code']], $s+['created_at'=>now(),'updated_at'=>now()]); } $slotIds=DB::table('banner_slots')->pluck('id','code'); foreach(['header','map_top','feed_inline'] as $code){ for($i=1;$i<=3;$i++){ DB::table('banners')->updateOrInsert(['slot_id'=>$slotIds[$code],'name'=>strtoupper($code).' Banner #'.$i], ['image'=>null,'url'=>'https://fishtrackpro.ru','is_active'=>true,'priority'=>100+$i,'created_at'=>now(),'updated_at'=>now()]); } } $uid=DB::table('users')->min('id'); if($uid){ DB::table('subscriptions')->updateOrInsert(['user_id'=>$uid,'plan'=>'pro'], ['status'=>'active','period'=>'month','provider'=>'stripe','renews_at'=>now()->addMonth(),'created_at'=>now(),'updated_at'=>now()]); } } }
