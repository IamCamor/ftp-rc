{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "backend: serve",
      "type": "shell",
      "command": "php artisan serve --host=127.0.0.1 --port=8000",
      "options": { "cwd": "${workspaceFolder}/backend" },
      "isBackground": true,
      "problemMatcher": { "pattern": { "regexp": "." } }
    },
    {
      "label": "backend: queue",
      "type": "shell",
      "command": "php artisan queue:work --tries=1",
      "options": { "cwd": "${workspaceFolder}/backend" },
      "isBackground": true,
      "problemMatcher": { "pattern": { "regexp": "." } }
    },
    {
      "label": "backend: schedule",
      "type": "shell",
      "command": "php artisan schedule:work",
      "options": { "cwd": "${workspaceFolder}/backend" },
      "isBackground": true,
      "problemMatcher": { "pattern": { "regexp": "." } }
    },
    {
      "label": "frontend: dev",
      "type": "shell",
      "command": "npm run dev",
      "options": { "cwd": "${workspaceFolder}/frontend" },
      "isBackground": true,
      "problemMatcher": { "pattern": { "regexp": "." } }
    },
    {
      "label": "frontend: dev (mocks)",
      "type": "shell",
      "command": "npm run dev:mock",
      "options": { "cwd": "${workspaceFolder}/frontend" },
      "isBackground": true,
      "problemMatcher": { "pattern": { "regexp": "." } }
    },
    {
      "label": "dev: start (API)",
      "dependsOn": [
        "backend: serve",
        "backend: queue",
        "backend: schedule",
        "frontend: dev"
      ],
      "dependsOrder": "parallel"
    },
    {
      "label": "dev: start (mocks)",
      "dependsOn": [
        "frontend: dev (mocks)"
      ],
      "dependsOrder": "parallel"
    }
  ]
}
