{"version":3,"file":"PlaceDetailPage-C1kFdO5p.js","sources":["../../src/components/MediaGrid.tsx","../../src/pages/PlaceDetailPage.tsx"],"sourcesContent":["import React from 'react';\n\nconst MediaGrid: React.FC<{items: Array<{url:string}>}> = ({items}) => {\n  const list = Array.isArray(items) ? items : [];\n  if (!list.length) return null;\n  return (\n    <div className=\"media-grid\">\n      {list.map((m,i)=>(\n        <img key={i} src={m.url} alt={`media-${i}`} loading=\"lazy\" />\n      ))}\n    </div>\n  );\n};\nexport default MediaGrid;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { placeById } from '../api';\nimport MediaGrid from '../components/MediaGrid';\n\nconst PlaceDetailPage: React.FC = () => {\n  const { id } = useParams();\n  const [data, setData] = useState<any>(null);\n  const [err, setErr] = useState('');\n\n  useEffect(()=>{\n    if (!id) return;\n    placeById(id).then(setData).catch((e)=> setErr(e.message||'Ошибка'));\n  },[id]);\n\n  if (err) return <div className=\"container\"><div className=\"card glass\" style={{color:'#ffb4b4'}}>{err}</div></div>;\n  if (!data) return <div className=\"container\"><div className=\"card glass\">Загрузка…</div></div>;\n\n  const photos = Array.isArray(data.photos) ? data.photos.map((url:string)=>({url})) : (data.photo_url? [{url:data.photo_url}] : []);\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"h2\">{data.title || `Место #${id}`}</h2>\n      <div className=\"muted\" style={{marginBottom:8}}>{data.description || '—'}</div>\n      <div className=\"muted\">{data.lat?.toFixed?.(4)}, {data.lng?.toFixed?.(4)}</div>\n\n      <div style={{marginTop:12}}>\n        <MediaGrid items={photos} />\n      </div>\n    </div>\n  );\n};\nexport default PlaceDetailPage;\n"],"names":["MediaGrid","items","list","jsx","m","i","PlaceDetailPage","id","useParams","data","setData","useState","err","setErr","useEffect","placeById","e","photos","url","jsxs"],"mappings":"4FAEA,MAAMA,EAAoD,CAAC,CAAC,MAAAC,KAAW,CACrE,MAAMC,EAAO,MAAM,QAAQD,CAAK,EAAIA,EAAQ,CAAA,EAC5C,OAAKC,EAAK,OAERC,MAAC,OAAI,UAAU,aACZ,WAAK,IAAI,CAACC,EAAEC,IACXF,EAAAA,IAAC,MAAA,CAAY,IAAKC,EAAE,IAAK,IAAK,SAASC,CAAC,GAAI,QAAQ,MAAA,EAA1CA,CAAiD,CAC5D,CAAA,CACH,EANuB,IAQ3B,ECPMC,EAA4B,IAAM,CACtC,KAAM,CAAE,GAAAC,CAAA,EAAOC,EAAA,EACT,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAc,IAAI,EACpC,CAACC,EAAKC,CAAM,EAAIF,EAAAA,SAAS,EAAE,EAOjC,GALAG,EAAAA,UAAU,IAAI,CACPP,GACLQ,EAAUR,CAAE,EAAE,KAAKG,CAAO,EAAE,MAAOM,GAAKH,EAAOG,EAAE,SAAS,QAAQ,CAAC,CACrE,EAAE,CAACT,CAAE,CAAC,EAEFK,EAAK,OAAOT,EAAAA,IAAC,MAAA,CAAI,UAAU,YAAY,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,aAAa,MAAO,CAAC,MAAM,SAAA,EAAa,WAAI,EAAM,EAC5G,GAAI,CAACM,EAAM,OAAON,EAAAA,IAAC,MAAA,CAAI,UAAU,YAAY,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,aAAa,SAAA,WAAA,CAAS,EAAM,EAExF,MAAMc,EAAS,MAAM,QAAQR,EAAK,MAAM,EAAIA,EAAK,OAAO,IAAKS,IAAc,CAAC,IAAAA,GAAK,EAAKT,EAAK,UAAW,CAAC,CAAC,IAAIA,EAAK,SAAA,CAAU,EAAI,CAAA,EAE/H,OACEU,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAhB,EAAAA,IAAC,MAAG,UAAU,KAAM,WAAK,OAAS,UAAUI,CAAE,EAAA,CAAG,EACjDJ,EAAAA,IAAC,MAAA,CAAI,UAAU,QAAQ,MAAO,CAAC,aAAa,CAAA,EAAK,SAAAM,EAAK,aAAe,GAAA,CAAI,EACzEU,EAAAA,KAAC,MAAA,CAAI,UAAU,QAAS,SAAA,CAAAV,EAAK,KAAK,UAAU,CAAC,EAAE,KAAGA,EAAK,KAAK,UAAU,CAAC,CAAA,EAAE,EAEzEN,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAC,UAAU,EAAA,EACrB,SAAAA,EAAAA,IAACH,EAAA,CAAU,MAAOiB,CAAA,CAAQ,CAAA,CAC5B,CAAA,EACF,CAEJ"}