{"version":3,"file":"ProfilePage-B3G2yhdi.js","sources":["../../src/pages/ProfilePage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport config from '../config';\nimport { profileMe, isAuthed, logout } from '../api';\nimport { Link } from 'react-router-dom';\nimport Icon from '../components/Icon';\n\nconst ProfilePage: React.FC = () => {\n  const [me, setMe] = useState<any>(null);\n  const [err, setErr] = useState<string>('');\n\n  useEffect(() => {\n    if (!isAuthed()) {\n      setErr('Требуется вход в систему.');\n      return;\n    }\n    profileMe()\n      .then(setMe)\n      .catch((e) => setErr(e.message || 'Не удалось загрузить профиль'));\n  }, []);\n\n  const avatar = me?.photo_url || config?.images?.defaultAvatar || '/assets/default-avatar.png';\n\n  return (\n    <div className=\"container\">\n      <div className=\"glass card\" style={{display:'flex', gap:12, alignItems:'center'}}>\n        <img src={avatar} alt=\"avatar\" style={{width:64, height:64, borderRadius:'50%', objectFit:'cover'}} />\n        <div style={{flex:1}}>\n          <div style={{fontWeight:600}}>{me?.name || '—'}</div>\n          <div className=\"muted\">{me?.email || ''}</div>\n        </div>\n        {isAuthed() && (\n          <button className=\"btn\" onClick={()=>{ logout(); location.href='/login'; }}>Выйти</button>\n        )}\n      </div>\n      {err && <div className=\"card glass\" style={{color:'#ffb4b4', marginTop:10}}>{err}</div>}\n\n      <div className=\"grid\" style={{marginTop:12}}>\n        <Link to=\"/friends\" className=\"glass card row\" style={{justifyContent:'space-between'}}>\n          <div className=\"row\"><Icon name={config.icons.friends} /> Друзья</div>\n          <Icon name=\"chevron_right\" />\n        </Link>\n        <Link to=\"/bonuses\" className=\"glass card row\" style={{justifyContent:'space-between'}}>\n          <div className=\"row\"><Icon name={config.icons.gift} /> Бонусы и история</div>\n          <Icon name=\"chevron_right\" />\n        </Link>\n        <Link to=\"/leaderboard\" className=\"glass card row\" style={{justifyContent:'space-between'}}>\n          <div className=\"row\"><Icon name={config.icons.leaderboard} /> Лидерборд</div>\n          <Icon name=\"chevron_right\" />\n        </Link>\n        <Link to=\"/settings\" className=\"glass card row\" style={{justifyContent:'space-between'}}>\n          <div className=\"row\"><Icon name={config.icons.settings} /> Настройки профиля</div>\n          <Icon name=\"chevron_right\" />\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilePage;\n"],"names":["ProfilePage","me","setMe","useState","err","setErr","useEffect","isAuthed","profileMe","e","avatar","config","jsxs","jsx","logout","Link","Icon"],"mappings":"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"}