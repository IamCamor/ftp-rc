import{r as n,c as a,j as s,L as t,I as e}from"./index-BY83b2EI.js";import{i as l,d as h,e as j}from"./api-DxtNjl_b.js";const f=()=>{const[r,o]=n.useState(null),[i,c]=n.useState("");n.useEffect(()=>{if(!l()){c("Требуется вход в систему.");return}h().then(o).catch(m=>c(m.message||"Не удалось загрузить профиль"))},[]);const d=r?.photo_url||a?.images?.defaultAvatar||"/assets/default-avatar.png";return s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"glass card",style:{display:"flex",gap:12,alignItems:"center"},children:[s.jsx("img",{src:d,alt:"avatar",style:{width:64,height:64,borderRadius:"50%",objectFit:"cover"}}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontWeight:600},children:r?.name||"—"}),s.jsx("div",{className:"muted",children:r?.email||""})]}),l()&&s.jsx("button",{className:"btn",onClick:()=>{j(),location.href="/login"},children:"Выйти"})]}),i&&s.jsx("div",{className:"card glass",style:{color:"#ffb4b4",marginTop:10},children:i}),s.jsxs("div",{className:"grid",style:{marginTop:12},children:[s.jsxs(t,{to:"/friends",className:"glass card row",style:{justifyContent:"space-between"},children:[s.jsxs("div",{className:"row",children:[s.jsx(e,{name:a.icons.friends})," Друзья"]}),s.jsx(e,{name:"chevron_right"})]}),s.jsxs(t,{to:"/bonuses",className:"glass card row",style:{justifyContent:"space-between"},children:[s.jsxs("div",{className:"row",children:[s.jsx(e,{name:a.icons.gift})," Бонусы и история"]}),s.jsx(e,{name:"chevron_right"})]}),s.jsxs(t,{to:"/leaderboard",className:"glass card row",style:{justifyContent:"space-between"},children:[s.jsxs("div",{className:"row",children:[s.jsx(e,{name:a.icons.leaderboard})," Лидерборд"]}),s.jsx(e,{name:"chevron_right"})]}),s.jsxs(t,{to:"/settings",className:"glass card row",style:{justifyContent:"space-between"},children:[s.jsxs("div",{className:"row",children:[s.jsx(e,{name:a.icons.settings})," Настройки профиля"]}),s.jsx(e,{name:"chevron_right"})]})]})]})};export{f as default};
//# sourceMappingURL=ProfilePage-B3G2yhdi.js.map
