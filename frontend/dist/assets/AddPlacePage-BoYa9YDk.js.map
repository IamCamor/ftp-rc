{"version":3,"file":"AddPlacePage-BoYa9YDk.js","sources":["../../src/pages/AddPlacePage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { addPlace } from '../api';\n\nconst AddPlacePage: React.FC = () => {\n  const [form, setForm] = useState<any>({ title:'', description:'', lat:'', lng:'', photos:'' });\n  const [msg, setMsg] = useState('');\n\n  function set<K extends string>(k:K, v:any){ setForm((s:any)=> ({...s, [k]:v})); }\n\n  async function submit(e:React.FormEvent){\n    e.preventDefault(); setMsg('');\n    try{\n      const payload = {\n        title: form.title,\n        description: form.description || undefined,\n        lat: Number(form.lat),\n        lng: Number(form.lng),\n        photos: form.photos ? form.photos.split(',').map((s:string)=>s.trim()).filter(Boolean) : undefined,\n      };\n      await addPlace(payload);\n      setMsg('Место добавлено');\n    }catch(ex:any){ setMsg(ex?.message || 'Ошибка сохранения'); }\n  }\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"h2\">Добавить место</h2>\n      <form className=\"glass card grid\" onSubmit={submit}>\n        <input className=\"input\" placeholder=\"Название\" value={form.title} onChange={e=>set('title', e.target.value)} required />\n        <textarea className=\"textarea\" placeholder=\"Описание\" value={form.description} onChange={e=>set('description', e.target.value)} />\n        <div className=\"row\" style={{gap:8}}>\n          <input className=\"input\" placeholder=\"Широта\" value={form.lat} onChange={e=>set('lat', e.target.value)} required />\n          <input className=\"input\" placeholder=\"Долгота\" value={form.lng} onChange={e=>set('lng', e.target.value)} required />\n        </div>\n        <input className=\"input\" placeholder=\"URL фото через запятую\" value={form.photos} onChange={e=>set('photos', e.target.value)} />\n        <button className=\"btn primary\" type=\"submit\">Сохранить</button>\n        {msg && <div className=\"muted\">{msg}</div>}\n      </form>\n    </div>\n  );\n};\nexport default AddPlacePage;\n"],"names":["AddPlacePage","form","setForm","useState","msg","setMsg","set","k","v","s","submit","payload","addPlace","ex","jsxs","jsx"],"mappings":"qFAGA,MAAMA,EAAyB,IAAM,CACnC,KAAM,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAc,CAAE,MAAM,GAAI,YAAY,GAAI,IAAI,GAAI,IAAI,GAAI,OAAO,GAAI,EACvF,CAACC,EAAKC,CAAM,EAAIF,EAAAA,SAAS,EAAE,EAEjC,SAASG,EAAsBC,EAAKC,EAAM,CAAEN,EAASO,IAAU,CAAC,GAAGA,EAAG,CAACF,CAAC,EAAEC,CAAA,EAAG,CAAG,CAEhF,eAAeE,EAAO,EAAkB,CACtC,EAAE,eAAA,EAAkBL,EAAO,EAAE,EAC7B,GAAG,CACD,MAAMM,EAAU,CACd,MAAOV,EAAK,MACZ,YAAaA,EAAK,aAAe,OACjC,IAAK,OAAOA,EAAK,GAAG,EACpB,IAAK,OAAOA,EAAK,GAAG,EACpB,OAAQA,EAAK,OAASA,EAAK,OAAO,MAAM,GAAG,EAAE,IAAKQ,GAAWA,EAAE,KAAA,CAAM,EAAE,OAAO,OAAO,EAAI,MAAA,EAE3F,MAAMG,EAASD,CAAO,EACtBN,EAAO,iBAAiB,CAC1B,OAAOQ,EAAO,CAAER,EAAOQ,GAAI,SAAW,mBAAmB,CAAG,CAC9D,CAEA,OACEC,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,KAAK,SAAA,iBAAc,EACjCD,EAAAA,KAAC,OAAA,CAAK,UAAU,kBAAkB,SAAUJ,EAC1C,SAAA,CAAAK,MAAC,SAAM,UAAU,QAAQ,YAAY,WAAW,MAAOd,EAAK,MAAO,SAAU,GAAGK,EAAI,QAAS,EAAE,OAAO,KAAK,EAAG,SAAQ,GAAC,QACtH,WAAA,CAAS,UAAU,WAAW,YAAY,WAAW,MAAOL,EAAK,YAAa,YAAaK,EAAI,cAAe,EAAE,OAAO,KAAK,EAAG,EAChIQ,OAAC,OAAI,UAAU,MAAM,MAAO,CAAC,IAAI,GAC/B,SAAA,CAAAC,MAAC,SAAM,UAAU,QAAQ,YAAY,SAAS,MAAOd,EAAK,IAAK,SAAU,GAAGK,EAAI,MAAO,EAAE,OAAO,KAAK,EAAG,SAAQ,GAAC,QAChH,QAAA,CAAM,UAAU,QAAQ,YAAY,UAAU,MAAOL,EAAK,IAAK,SAAU,GAAGK,EAAI,MAAO,EAAE,OAAO,KAAK,EAAG,SAAQ,EAAA,CAAC,CAAA,EACpH,QACC,QAAA,CAAM,UAAU,QAAQ,YAAY,yBAAyB,MAAOL,EAAK,OAAQ,YAAaK,EAAI,SAAU,EAAE,OAAO,KAAK,EAAG,QAC7H,SAAA,CAAO,UAAU,cAAc,KAAK,SAAS,SAAA,YAAS,EACtDF,GAAOW,EAAAA,IAAC,MAAA,CAAI,UAAU,QAAS,SAAAX,CAAA,CAAI,CAAA,CAAA,CACtC,CAAA,EACF,CAEJ"}